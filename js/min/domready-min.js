!function(){document.documentElement.classList.remove("no-js"),document.documentElement.classList.add("js");var t={init:function(){document.body.classList.add("peek-nav--hide"),window.scrollTo(0,1),this.peekHeight=document.querySelector(".nav-head").scrollHeight-16,this.bindEvents()},bindEvents:function(){window.addEventListener("scroll",this.togglePeekClass.bind(this),!1),document.querySelector(".paper-clip").addEventListener("click",this.togglePeekClass,!1)},togglePeekClass:function(t){if("click"===t.type)document.body.classList.toggle("peek-nav--hide");else{var e=document.body.scrollTop||document.documentElement.scrollTop;0===e?document.body.classList.remove("peek-nav--hide"):e<this.peekHeight&&document.body.classList.contains("peek-nav--hide")===!1&&document.body.classList.add("peek-nav--hide")}}};t.init();var e={init:function(){this.contactForm=document.forms[0],this.autoexpandTarget=document.querySelector(".autoexpand"),this.jsForm=document.querySelector(".js-form"),this.inputEmail=document.querySelector(".input__field--email"),this.minRows=+this.autoexpandTarget.getAttribute("data-min-rows")||1,this.autoexpandTarget.rows=this.minRows,this.inputEmail.setAttribute("type","email"),this.bindEvents()},bindEvents:function(){this.thisShouldRevealForm=this.shouldRevealForm.bind(this),window.addEventListener("click",this.thisShouldRevealForm,!1),this.jsForm.addEventListener("mouseover",this.doRevealForm,!1),this.autoexpandTarget.addEventListener("input",this.adjustHeight.bind(this),!1),this.contactForm.addEventListener("input",this.buttonValidity,!1),this.inputEmail.addEventListener("blur",function(){this.checkValidity()||this.focus()}),this.contactForm.addEventListener("submit",function(t){this.checkValidity()||t.preventDefault()})},shouldRevealForm:function(t){"#contact"===t.target.hash&&this.doRevealForm()},doRevealForm:function(){this.contactForm.style.maxHeight="500px",setTimeout(this.onRevealForm.bind(this),350),window.removeEventListener("click",this.thisShouldRevealForm),this.jsForm.removeEventListener("mouseover",this.doRevealForm)},onRevealForm:function(){var t=getComputedStyle(this.autoexpandTarget).getPropertyValue("line-height");this.lineHeight=parseInt(t,10),this.autoexpandTarget.baseScrollHeight=this.autoexpandTarget.scrollHeight,this.contactForm.style.maxHeight="none"},adjustHeight:function(t){t.target.rows=this.minRows;var e=Math.round((t.target.scrollHeight-t.target.baseScrollHeight)/this.lineHeight);t.target.rows=this.minRows+e},buttonValidity:function(){var t=document.querySelector('input[type="submit"]');this.checkValidity()?t.classList.add("valid"):t.classList.remove("valid")}};e.init();var i={init:function(){var t="scrollBehavior"in document.documentElement.style;t||this.bindEvents()},bindEvents:function(){window.addEventListener("click",this.triggerScroll.bind(this),!1)},triggerScroll:function(t){if(t.target.hash&&t.target.pathname.replace(/^\//,"")===location.pathname.replace(/^\//,"")){var e=document.getElementById(t.target.hash.slice(1)),i=this.getElementY(e);this.smoothScroll(i),t.preventDefault()}},getElementY:function(t){for(var e=t.offsetTop,i=t;i.offsetParent&&i.offsetParent!==document.body;)i=i.offsetParent,e+=i.offsetTop;return e},getCurrentY:function(){return window.self.pageYOffset?window.self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},smoothScroll:function(t){var e=this.getCurrentY(),i=t-e,n=Math.abs(i/100),o=i/25;if(Math.abs(i)<100)return void scrollTo(0,t);for(var s,r=0;25>=r;r++)s=Math.round(e+r*o),setTimeout("window.scrollTo(0, "+s+")",Math.round(r*n))}};i.init();var n={init:function(){this.bindEvents()},bindEvents:function(){this.thisTriggerAnimation=this.triggerAnimation.bind(this),setTimeout(function(){window.addEventListener("scroll",n.thisTriggerAnimation,!1)},400)},triggerAnimation:function(){document.querySelector(".donut").classList.add("animate"),window.removeEventListener("scroll",this.thisTriggerAnimation)}};document.querySelector(".donut")&&n.init()}();